## Lab_4: Робота з Docker
### Pre-requirements:
- :heavy_check_mark: фізича машина (Ubuntu) з інстальованим Docker;
### What to do.
1. :heavy_check_mark: Для ознайомляння що таке Docker зверніться до [документації](https://docs.docker.com/);
2. :heavy_check_mark: Для перевірки чи докер встановлений і працює правильно на віртуальній машині запустіть перевірку версії, виведення допомоги та тестовий імедж:
    ```bash
    docker -v
    docker -h
    docker run docker/whalesay cowsay Docker is fun
    ```
   
   ![dolphin](images/scr2.png)
    - перенаправте вивід цих команд у файл `mywork.log` та закомітьте його до репозиторію.
3. :heavy_check_mark: Як можна бачити Docker працює з Імеджами та Контейнерами. Імедж це свого роду операційна система з попередньо інстальованим ПЗ. Контейнер це запущений Імедж. Ідея роботи Docker дещо схожа на віртуальні машини. Перш за все потрібно створити імедж з якого буде запускатись контейнер. Для цього існує Dockerfile який описує контент імеджу. Ознайомтесь з [документацією](https://docs.docker.com/engine/reference/builder/).
4. :heavy_check_mark: Для знайомства з Docker створимо імедж із Django сайтом зробленим у попередній роботі.
    - Оскільки наш проект на Python то і базовий імедж також потрібно вибрати відповідний. Всі імеджі можна знайти на [Python Docker Hub](https://hub.docker.com/_/python). Використаємо команду щоб завантажити базовий імедж з репозиторію: (_це можна і не робити, оскільки при запуску Dockerfile може самостійно його завантажити_)
    ```bash
    docker pull python:3.7-slim
    docker images
    docker inspect python:3.7-slim
    ```
   
   ![image](images/scr3.png)
    - (:heavy_check_mark:) Створіть файл з іменем `Dockerfile` скопіюйте туди вміс такого ж файлу з цього репозиторію;
    - (:heavy_check_mark:) Ознайомтесь із коментарями та постарайтесь зрозуміти структуру написання Dockerfile;
    - (:heavy_check_mark:) Замініть посилання на власний Git репозиторій із Вашим веб-сайтом та закомітьте даний Dockerfile*
5. (:heavy_check_mark:) Створіть власний репозиторій на Docker Hub. Для цього залогіньтесь у власний аккаунт на [Docker Hub](https://hub.docker.com) після чого перейдіть у вкладку Repositories і далі натисніть кнопку `Create new repository`. Для прикладу мій репозиторій [знаходиться за адресою](https://cloud.docker.com/repository/docker/vkrenta/lab4).
6. (:heavy_check_mark:) Виконайте білд (build) Docker імеджа та завантажте його до репозиторію. Для цього Ви повинні вказати правильну назву репозиторію та TAG. Оскільки мій репозиторій `bobas/lab4-examples` то команда буде виглядати (де `django` - це тег): 
    ```bash
    docker build -t vkrenta/lab4:django .
    docker images
    dokcer push vkrenta/lab4:django
    ```
    - :heavy_check_mark: при здачі роботи у файлі README вкажіть посилання на Ваш Docker Hub репозиторій та посилання на сказування Вашого імеджа;
7. :heavy_check_mark: Для запуску веб-сайту потрібно виконати команду (тут я додав додаткові ключі, для чого Вони можете подивиьись у help):
    ```bash
    docker run -it --name=django --rm -p 8000:8000 vkrenta/lab4:django
    ``` 
    - :heavy_check_mark: перейдіть на аджесу `http://127.0.0.1:8000` та переконайтесь що Ваш веб-сайт працює;
    ![image](images/scr4.png)
8. :heavy_check_mark: Оскільки веб-сайт готовий і працює, потрібно створит ще один контейнер із програмою моніторингу нашого веб-сайту (Ваше Завдання на роботу):
    - :heavy_check_mark: створіть ще один Dockerfile в якому помістіть програму моніторингу (_для того щоб у Вас було два Dockerfile в одній папці їх можна назвати `Dockerfile.site` і при виконанні білда вказати Docker який фйл брати за допомогою ключа `--file`_);
    - :heavy_check_mark: виконайте білд даного імеджа та дайте йому тег `monitoring`;
    - :heavy_check_mark: запустіть два контейнери одночасно (_у різних вкладках_) та переконайтесь що програма моніторингу успішно доступається до сторінок Вашого веб-сайту (_у випадку проблем з мережею використайте ключ `--net=host`_);
    - :heavy_check_mark: закомітьте Dockerfile та результати роботи програми моніторингу запущеної з Docker контейнера (_для перенесення файла `server.log` з контейнера на машину спробуйте використати Docker Volume `-v`_);
9. :heavy_check_mark: Після успішного виконання роботи відредагуйте Ваш персональний _README.md_ у цьому репозиторію та створіть pull request.
